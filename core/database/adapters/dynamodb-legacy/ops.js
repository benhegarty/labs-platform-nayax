const _0x25575e=_0x3e22;(function(_0x2e99d1,_0x5ba56d){const _0x49d07f=_0x3e22,_0x87d653=_0x2e99d1();while(!![]){try{const _0x4ace34=parseInt(_0x49d07f(0x196))/0x1+parseInt(_0x49d07f(0x195))/0x2*(-parseInt(_0x49d07f(0x14a))/0x3)+-parseInt(_0x49d07f(0x147))/0x4*(parseInt(_0x49d07f(0x15c))/0x5)+-parseInt(_0x49d07f(0x15e))/0x6*(-parseInt(_0x49d07f(0x177))/0x7)+parseInt(_0x49d07f(0x17e))/0x8*(parseInt(_0x49d07f(0x185))/0x9)+-parseInt(_0x49d07f(0x189))/0xa+parseInt(_0x49d07f(0x155))/0xb;if(_0x4ace34===_0x5ba56d)break;else _0x87d653['push'](_0x87d653['shift']());}catch(_0x5ba1ee){_0x87d653['push'](_0x87d653['shift']());}}}(_0x3bb1,0x29c3a));const _0x4cee7c=(function(){const _0x3b6c87={'ZKMEn':function(_0x58ba2b,_0x725fb5){return _0x58ba2b===_0x725fb5;},'CANmk':'YRAqn'};let _0x1ed50e=!![];return function(_0x3c53c0,_0x919d0f){const _0x3f57bf=_0x1ed50e?function(){const _0x5d3425=_0x3e22;if(_0x919d0f){if(_0x3b6c87[_0x5d3425(0x18d)](_0x3b6c87[_0x5d3425(0x19f)],_0x3b6c87[_0x5d3425(0x19f)])){const _0x571791=_0x919d0f[_0x5d3425(0x17d)](_0x3c53c0,arguments);return _0x919d0f=null,_0x571791;}else return _0x2b4a3f[_0x5d3425(0x186)](_0x5a0d25)?'#'+_0x35a7a0:_0x210b85;}}:function(){};return _0x1ed50e=![],_0x3f57bf;};}()),_0x1d319a=_0x4cee7c(this,function(){const _0x15b6b7=_0x3e22,_0x3519ed={'cBwco':_0x15b6b7(0x15d)};return _0x1d319a[_0x15b6b7(0x166)]()[_0x15b6b7(0x19b)](_0x15b6b7(0x15d))['toString']()[_0x15b6b7(0x14f)](_0x1d319a)[_0x15b6b7(0x19b)](_0x3519ed[_0x15b6b7(0x19c)]);});function _0x3bb1(){const _0x463fd4=['index','sCCpK','forEach','MFSpJ','2394027RYzcEZ','includes','SORT2','join','14150ubsOeT','TbPgW','LESS_THAN_OR_EQUAL','ap-southeast-2','ZKMEn','BEGINS_WITH','ExpressionAttributeValues','keys','GREATER_THAN','string','Index\x20does\x20not\x20have\x20a\x20sort\x20key','\x20>\x20:s','4bvjdoY','151216rXznvT','state','ProjectionExpression','WwqoR','UzJvO','search','cBwco',',\x20:s)','BETWEEN\x20operation\x20requires\x20a\x20second\x20sort\x20key\x20value\x20(SORT2)','CANmk','\x20<=\x20:s','\x20=\x20',':s2','8aEvThk','GhmLz','send','259353kFzPxl','Items','_meta','BETWEEN','VFZdP','constructor','\x20=\x20:p','BsAuX','primaryKey','KeyConditionExpression','TWTNi','1517890ovpMLG','\x20<\x20:s','\x20BETWEEN\x20:s\x20AND\x20:s2','EQUAL','uRKfO','\x20>=\x20:s','TPfmk','684085aoPuwV','(((.+)+)+)+$','382848sjbZap','entries','yoDkL','otxmS','from','UAvQi','xTiCd','map','toString','cZJHH','wMIoB','\x20AND\x20','ijNeL','wWXgS','ExpressionAttributeNames','push','FilterExpression','Item','mjXIq','sTUXz','sortKey','YWrKh','kbNMe','LESS_THAN','SORT','7sSlAbM','Invalid\x20index\x20configuration','hQbCn','GREATER_THAN_OR_EQUAL','DYNAMODB_TABLE_SUFFIX','table','apply','8QeRIKQ','length','sicvn'];_0x3bb1=function(){return _0x463fd4;};return _0x3bb1();}_0x1d319a();import{DynamoDBClient,QueryCommand,GetItemCommand,ScanCommand}from'@aws-sdk/client-dynamodb';import{DynamoDBDocumentClient}from'@aws-sdk/lib-dynamodb';import{marshall,unmarshall}from'@aws-sdk/util-dynamodb';import{SortKeyOperation}from'../../types';const db=new DynamoDBClient({'region':_0x25575e(0x18c)}),client=DynamoDBDocumentClient[_0x25575e(0x162)](db),RESERVED_KEYWORDS=['name','status',_0x25575e(0x197)];function _0x3e22(_0x3323fd,_0x3fdcff){const _0x5365c5=_0x3bb1();return _0x3e22=function(_0x1d319a,_0x4cee7c){_0x1d319a=_0x1d319a-0x145;let _0x3bb1f3=_0x5365c5[_0x1d319a];return _0x3bb1f3;},_0x3e22(_0x3323fd,_0x3fdcff);}function sanitizeField(_0x5e3b31){const _0x4a0658=_0x25575e;return RESERVED_KEYWORDS[_0x4a0658(0x186)](_0x5e3b31)?'#'+_0x5e3b31:_0x5e3b31;}function tableName(_0x560c38){const _0x56945e=_0x25575e,_0x3b777c={'VFZdP':function(_0x85bb8d,_0xd89608){return _0x85bb8d+_0xd89608;}};return _0x3b777c[_0x56945e(0x14e)](_0x560c38['_meta']['table'],process['env'][_0x56945e(0x17b)]);}export async function get(_0x1cbfbb,_0x1c5e61,_0x415158){const _0x13eed0=_0x25575e,_0x28415a={'sCCpK':function(_0x4861ed,_0x51b81f,_0x194b1d,_0x34bcee){return _0x4861ed(_0x51b81f,_0x194b1d,_0x34bcee);}},_0x424829=_0x28415a[_0x13eed0(0x182)](constructGetParams,_0x1cbfbb,_0x1c5e61,_0x415158),_0x4883e8=await client[_0x13eed0(0x149)](new GetItemCommand(_0x424829));return _0x4883e8[_0x13eed0(0x16f)]?unmarshall(_0x4883e8[_0x13eed0(0x16f)]):null;}export async function query(_0xdd2c9c,_0x5911ad,_0x4dd53c,_0x28070a){const _0x5755d4=_0x25575e,_0x4f84be={'MFSpJ':function(_0x37458b,_0x12c193,_0x1fc727,_0x44ef46,_0x3af06f){return _0x37458b(_0x12c193,_0x1fc727,_0x44ef46,_0x3af06f);}},_0x52585a=_0x4f84be[_0x5755d4(0x184)](constructQueryParams,_0xdd2c9c,_0x5911ad,_0x4dd53c,_0x28070a),_0x4276e0=await client[_0x5755d4(0x149)](new QueryCommand(_0x52585a));return _0x4276e0[_0x5755d4(0x14b)]?.[_0x5755d4(0x165)](_0x5d361d=>unmarshall(_0x5d361d))||[];}export async function scan(_0x157633,_0x4a32e1,_0x5aca2f,_0x245382){const _0x27e125=_0x25575e,_0x400f98={'xTiCd':function(_0x2ba2cb,_0x2a9b46,_0x39e7fc,_0xd91aff,_0x60e1c1){return _0x2ba2cb(_0x2a9b46,_0x39e7fc,_0xd91aff,_0x60e1c1);}},_0x2eadb8=_0x400f98[_0x27e125(0x164)](constructQueryParams,_0x157633,_0x4a32e1,_0x5aca2f,_0x245382),_0xa5265e=await client[_0x27e125(0x149)](new ScanCommand(_0x2eadb8));return _0xa5265e[_0x27e125(0x14b)]?.[_0x27e125(0x165)](_0x194173=>unmarshall(_0x194173))||[];}function constructGetParams(_0x5b9e86,_0x4a6a3a,_0x47501f){const _0x72a839=_0x25575e,_0xfa1669={'WwqoR':function(_0xbb1241,_0x4ed2dc){return _0xbb1241!==_0x4ed2dc;},'YWrKh':_0x72a839(0x148),'TPfmk':function(_0x294d41,_0xb57a){return _0x294d41==_0xb57a;},'mjXIq':'string','UzJvO':function(_0x2a3d98,_0x45eb25){return _0x2a3d98(_0x45eb25);},'sTUXz':function(_0x3fd516,_0x35eec9){return _0x3fd516>_0x35eec9;},'cZJHH':function(_0x13533d,_0x168418){return _0x13533d===_0x168418;}};_0xfa1669[_0x72a839(0x15b)](_0xfa1669[_0x72a839(0x170)],typeof _0x4a6a3a)&&(_0x4a6a3a={'PK':_0x4a6a3a});const _0x1d1426={'TableName':_0xfa1669[_0x72a839(0x19a)](tableName,_0x5b9e86),'Key':marshall({[_0x5b9e86[_0x72a839(0x14c)][_0x72a839(0x152)]]:_0x4a6a3a['PK'],..._0x4a6a3a[_0x72a839(0x176)]&&_0x5b9e86[_0x72a839(0x14c)][_0x72a839(0x172)]&&{[_0x5b9e86[_0x72a839(0x14c)][_0x72a839(0x172)]]:_0x4a6a3a[_0x72a839(0x176)]}})};return _0x47501f&&_0xfa1669[_0x72a839(0x171)](_0x47501f[_0x72a839(0x17f)],0x0)&&(_0x1d1426[_0x72a839(0x198)]=_0x47501f[_0x72a839(0x165)](sanitizeField)[_0x72a839(0x188)](',\x20'),_0x1d1426[_0x72a839(0x16c)]=_0x1d1426[_0x72a839(0x16c)]||{},_0x47501f[_0x72a839(0x183)](_0x55129e=>{const _0x284ede=_0x72a839;if(_0xfa1669[_0x284ede(0x199)](_0xfa1669[_0x284ede(0x173)],_0xfa1669['YWrKh']))return _0x14b90e['_meta'][_0x284ede(0x17c)]+_0x57469e['env'][_0x284ede(0x17b)];else{const _0x4a5f8b=sanitizeField(_0x55129e);_0x4a5f8b!==_0x55129e&&(_0x1d1426['ExpressionAttributeNames'][_0x4a5f8b]=_0x55129e);}})),_0xfa1669[_0x72a839(0x167)](0x0,Object[_0x72a839(0x190)](_0x1d1426[_0x72a839(0x16c)]||{})['length'])&&delete _0x1d1426[_0x72a839(0x16c)],_0x1d1426;}function constructQueryParams(_0x18f2c5,_0x581441,_0x15a93d,_0x675e2c){const _0x56bb9b=_0x25575e,_0x4ee7c6={'wMIoB':function(_0x38392d,_0xbf360d){return _0x38392d(_0xbf360d);},'sicvn':function(_0x2fa7c9,_0x5e5ad9){return _0x2fa7c9!==_0x5e5ad9;},'UAvQi':function(_0x2a8628,_0x3bcf5b){return _0x2a8628!==_0x3bcf5b;},'otxmS':_0x56bb9b(0x178),'hQbCn':function(_0x170a27,_0x126bda){return _0x170a27==_0x126bda;},'yoDkL':_0x56bb9b(0x192),'TFEFU':function(_0x9cea0a,_0x4e05c6){return _0x9cea0a(_0x4e05c6);},'HwOZJ':_0x56bb9b(0x151),'TbPgW':_0x56bb9b(0x193),'wWXgS':function(_0x8f7c81,_0x2d3b62){return _0x8f7c81===_0x2d3b62;},'uRKfO':_0x56bb9b(0x19e),'TWTNi':function(_0x472f22,_0x14152b){return _0x472f22>_0x14152b;},'kbNMe':function(_0x52e781,_0x2e6d50){return _0x52e781>_0x2e6d50;},'ijNeL':function(_0xdafa75,_0x1b5190){return _0xdafa75>_0x1b5190;}};if(!_0x18f2c5||!_0x18f2c5[_0x56bb9b(0x14c)]||!_0x18f2c5[_0x56bb9b(0x14c)][_0x56bb9b(0x152)])throw new Error(_0x4ee7c6[_0x56bb9b(0x161)]);_0x4ee7c6[_0x56bb9b(0x179)](_0x4ee7c6[_0x56bb9b(0x160)],typeof _0x581441)&&(_0x581441={'PK':_0x581441});const _0x369c0b={'TableName':_0x4ee7c6['TFEFU'](tableName,_0x18f2c5)};if(_0x18f2c5[_0x56bb9b(0x14c)][_0x56bb9b(0x181)]&&(_0x369c0b['IndexName']=_0x18f2c5[_0x56bb9b(0x14c)][_0x56bb9b(0x181)]),_0x581441?.['PK']&&(_0x369c0b[_0x56bb9b(0x153)]=_0x18f2c5[_0x56bb9b(0x14c)][_0x56bb9b(0x152)]+_0x56bb9b(0x150),_0x369c0b['ExpressionAttributeValues']||(_0x369c0b[_0x56bb9b(0x18f)]={}),_0x369c0b[_0x56bb9b(0x18f)][':p']=_0x581441['PK']),_0x581441&&_0x581441['SORT']){if(_0x4ee7c6['HwOZJ']===_0x56bb9b(0x151)){if(!_0x18f2c5[_0x56bb9b(0x14c)][_0x56bb9b(0x172)])throw new Error(_0x4ee7c6[_0x56bb9b(0x18a)]);const _0x1221af=_0x581441['OP']||SortKeyOperation[_0x56bb9b(0x158)],_0x42abee={[SortKeyOperation['EQUAL']]:_0x18f2c5[_0x56bb9b(0x14c)][_0x56bb9b(0x172)]+'\x20=\x20:s',[SortKeyOperation[_0x56bb9b(0x18e)]]:'begins_with('+_0x18f2c5[_0x56bb9b(0x14c)][_0x56bb9b(0x172)]+_0x56bb9b(0x19d),[SortKeyOperation[_0x56bb9b(0x175)]]:_0x18f2c5['_meta'][_0x56bb9b(0x172)]+_0x56bb9b(0x156),[SortKeyOperation[_0x56bb9b(0x18b)]]:_0x18f2c5[_0x56bb9b(0x14c)][_0x56bb9b(0x172)]+_0x56bb9b(0x1a0),[SortKeyOperation[_0x56bb9b(0x191)]]:_0x18f2c5[_0x56bb9b(0x14c)][_0x56bb9b(0x172)]+_0x56bb9b(0x194),[SortKeyOperation[_0x56bb9b(0x17a)]]:_0x18f2c5['_meta'][_0x56bb9b(0x172)]+_0x56bb9b(0x15a),[SortKeyOperation[_0x56bb9b(0x14d)]]:_0x18f2c5['_meta'][_0x56bb9b(0x172)]+_0x56bb9b(0x157)};if(_0x369c0b[_0x56bb9b(0x153)]+='\x20AND\x20'+_0x42abee[_0x1221af],_0x369c0b[_0x56bb9b(0x18f)][':s']=_0x581441[_0x56bb9b(0x176)],_0x4ee7c6[_0x56bb9b(0x16b)](_0x1221af,SortKeyOperation[_0x56bb9b(0x14d)])&&_0x581441[_0x56bb9b(0x187)])_0x369c0b[_0x56bb9b(0x18f)][_0x56bb9b(0x146)]=_0x581441[_0x56bb9b(0x187)];else{if(_0x1221af===SortKeyOperation[_0x56bb9b(0x14d)]&&!_0x581441['SORT2'])throw new Error(_0x4ee7c6[_0x56bb9b(0x159)]);}}else{if(_0x284a9c){const _0x4c024b=_0xb7995b[_0x56bb9b(0x17d)](_0x5e7224,arguments);return _0x4ea63d=null,_0x4c024b;}}}if(_0x15a93d&&_0x4ee7c6[_0x56bb9b(0x154)](_0x15a93d[_0x56bb9b(0x17f)],0x0)&&(_0x369c0b['ProjectionExpression']=_0x15a93d['map'](sanitizeField)[_0x56bb9b(0x188)](',\x20'),_0x369c0b[_0x56bb9b(0x16c)]=_0x369c0b[_0x56bb9b(0x16c)]||{},_0x15a93d[_0x56bb9b(0x183)](_0xcbec4d=>{const _0x53040e=_0x56bb9b,_0x13c9cc=_0x4ee7c6[_0x53040e(0x168)](sanitizeField,_0xcbec4d);_0x13c9cc!==_0xcbec4d&&(_0x369c0b[_0x53040e(0x16c)][_0x13c9cc]=_0xcbec4d);})),_0x675e2c){const _0x5ccb43=[];Object[_0x56bb9b(0x15f)](_0x675e2c)[_0x56bb9b(0x183)](([_0x2ce77d,_0x263156],_0x54fb0f)=>{const _0x271b9f=_0x56bb9b;if(!_0x263156&&_0x4ee7c6[_0x271b9f(0x180)](0x0,_0x263156)&&_0x4ee7c6[_0x271b9f(0x180)](!0x1,_0x263156))return;_0x369c0b[_0x271b9f(0x16c)]||(_0x369c0b['ExpressionAttributeNames']={}),_0x369c0b['ExpressionAttributeValues']||(_0x369c0b['ExpressionAttributeValues']={});const _0x422ac4=_0x4ee7c6[_0x271b9f(0x168)](sanitizeField,_0x2ce77d),_0x2c4710=':f'+_0x54fb0f;_0x5ccb43[_0x271b9f(0x16d)](_0x422ac4+_0x271b9f(0x145)+_0x2c4710),_0x369c0b['ExpressionAttributeValues'][_0x2c4710]=_0x263156,_0x4ee7c6[_0x271b9f(0x163)](_0x422ac4,_0x2ce77d)&&(_0x369c0b[_0x271b9f(0x16c)][_0x422ac4]=_0x2ce77d);}),_0x4ee7c6[_0x56bb9b(0x174)](_0x5ccb43[_0x56bb9b(0x17f)],0x0)&&(_0x369c0b[_0x56bb9b(0x16e)]=_0x5ccb43[_0x56bb9b(0x188)](_0x56bb9b(0x169)));}return 0x0===Object[_0x56bb9b(0x190)](_0x369c0b['ExpressionAttributeNames']||{})[_0x56bb9b(0x17f)]&&delete _0x369c0b[_0x56bb9b(0x16c)],_0x369c0b[_0x56bb9b(0x18f)]&&_0x4ee7c6[_0x56bb9b(0x16a)](Object[_0x56bb9b(0x190)](_0x369c0b[_0x56bb9b(0x18f)])['length'],0x0)&&(_0x369c0b[_0x56bb9b(0x18f)]=marshall(_0x369c0b[_0x56bb9b(0x18f)])),_0x369c0b;}